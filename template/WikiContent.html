<lib name='syntaxhighlighter:php'/>
<div class='page'>
	<msgqueue for="$theController->messageQueue()" />
	<h1><span class='title'></span>{=$sTitle}</h1>
	<label>版本: </label>
	<select class='version'>
		<model:foreach>
			<option value="{='?c=org.opencomb.doccenter.WikiContent&version=' . $theModel['version'] . '&title=' . $theParams->get('title')}" {=$sVersion == $theModel['version'] ? 'selected' : ''}>{=org\jecat\framework\util\Version::from32Integer($theModel['version'])}</option>
			<if "$sVersion == $theModel['version']">
				{?$aContentModel=$theModel}
			</if>
		</model:foreach>
	</select>
	
	<div class='extension'>
		<label>扩展: </label>{=$aContentModel['extension']}
	</div>
	
	<div class='content'>
		{=nl2br($aContentModel['text'])}
	</div>
	
	<script type="text/javascript">
		SyntaxHighlighter.defaults['toolbar'] = false;
		SyntaxHighlighter.all();
		
		//版本跳转
		jQuery(function(){
			jQuery('select.version').change(function(){
				location.href=jQuery(this).val();
			});
		});
	</script>
</div>