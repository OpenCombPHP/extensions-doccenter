<lib name='syntaxhighlighter:php'/>
<div class='page'>
	<msgqueue for="$theController->messageQueue()" />
	<h1><span class='title'></span>{=$sTitle}</h1>
	<label>版本: </label>
	<select class='version'>
		<foreach for='$arrVersions' item='sVersions'>
			<option value="{='?c=org.opencomb.doccenter.WikiContent&version=' . $sVersions . '&title=' . $theParams->get('title')}" 
			{=$sSelectedVersion == $sVersions ? 'selected' : ''}>{=$sVersions}</option>
		</foreach>
	</select>
	
	<foreach for='$theModel->childIterator()' item='aContentModel'>
		<div class='extension'>
			<label>扩展: </label>{=$aContentModel['extension']}
		</div>
		
		<div class='content'>
			{=org\opencomb\doccenter\formatter\Formatter::singleton()->format($aContentModel['text'])}
		</div>
		
		<div class='exampleList'>
			<foreach for="$aContentModel->child('examples')->childIterator()" item='aExample' idx='nExampleIndex'>
				<div class='example'>
					<h3>例子{=$nExampleIndex+1}: </h3>
					<pre class="brush: php;">
	{=htmlentities($aExample['code'],ENT_QUOTES, "UTF-8")}
					</pre>
				</div>
			</foreach>
		</div>
	</foreach>
	
	<script type="text/javascript">
		SyntaxHighlighter.defaults['toolbar'] = false;
		SyntaxHighlighter.all();
		
		//版本跳转
		jQuery(function(){
			jQuery('select.version').change(function(){
				location.href=jQuery(this).val();
			});
		});
	</script>
</div>